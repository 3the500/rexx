<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ë‚˜ì™€ ë§ëŠ” ìš´ë™ì°¾ê¸°!!</title>
  <style>
    :root{
      --bg:#0b0f19;
      --card:rgba(255,255,255,.10);
      --border:rgba(255,255,255,.18);
      --text:#eaf0ff;
      --muted:rgba(234,240,255,.75);
      --accent:#7aa7ff;
      --danger:#ff6b6b;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      min-height:100vh;
      font-family: ui-sans-serif, system-ui, -apple-system, "Apple SD Gothic Neo", "Noto Sans KR", sans-serif;
      color:var(--text);
      background: radial-gradient(1200px 600px at 20% 10%, rgba(122,167,255,.18), transparent 55%),
                  radial-gradient(900px 600px at 90% 30%, rgba(255,107,107,.12), transparent 55%),
                  var(--bg);
      overflow-x:hidden;
    }

    /* ë°°ê²½ì´ë¯¸ì§€ ë„£ì„ ê±°ë©´ ì—¬ê¸° URLë§Œ ë°”ê¿” */
    .bg {
      position:fixed; inset:0;
      background-image:url("./workout1.png");
      background-size:cover;
      background-position:center;
      filter: saturate(1.05) contrast(1.05);
      opacity:.25;
      z-index:-2;
    }
    .bg::after{
      content:"";
      position:absolute; inset:0;
      background: linear-gradient(to bottom, rgba(11,15,25,.75), rgba(11,15,25,.92));
      z-index:-1;
    }

    .wrap{
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:24px;
    }

    .card{
      width:min(920px, 100%);
      background:var(--card);
      border:1px solid var(--border);
      border-radius:18px;
      backdrop-filter: blur(10px);
      padding:22px;
      box-shadow: 0 12px 40px rgba(0,0,0,.35);
    }

    header{
      display:flex;
      gap:12px;
      align-items:flex-start;
      justify-content:space-between;
      margin-bottom:14px;
    }
    .title{
      font-size:18px;
      letter-spacing:-0.2px;
      margin:0;
    }
    .sub{
      margin:4px 0 0;
      font-size:13px;
      color:var(--muted);
    }
    .pill{
      font-size:12px;
      padding:8px 10px;
      border:1px solid var(--border);
      border-radius:999px;
      color:var(--muted);
      white-space:nowrap;
      user-select:none;
    }

    /* âœ… ì§ˆë¬¸/ì„ íƒì§€ ì „ì²´ë¥¼ í™”ë©´ ì¤‘ì•™ìœ¼ë¡œ */
    .stage{
      display:flex;
      align-items:center;
      justify-content:center;
      min-height:58vh;
    }

    .qbox{
      width:min(760px, 100%);
      display:flex;
      flex-direction:column;
      gap:14px;
      text-align:center; /* ì§ˆë¬¸ì„ ì¤‘ì•™ì— */
    }

    .qtext{
      font-size:24px;
      line-height:1.35;
      margin:0 auto;
      letter-spacing:-0.3px;
    }

    .answers{
      display:grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap:10px;
      margin-top:6px;
    }
    @media (max-width:720px){
      .answers{grid-template-columns: 1fr;}
      .qtext{font-size:20px;}
    }

    .opt{
      text-align:left;
      display:flex;
      gap:10px;
      align-items:flex-start;
      padding:12px 12px;
      border:1px solid var(--border);
      border-radius:14px;
      background: rgba(255,255,255,.06);
      cursor:pointer;
      transition: transform .08s ease, background .12s ease, border-color .12s ease;
      user-select:none;
    }
    .opt:hover{
      transform: translateY(-1px);
      background: rgba(255,255,255,.09);
      border-color: rgba(122,167,255,.55);
    }
    .opt input{ margin-top:3px; transform:scale(1.05); }
    .opt .label{
      display:flex;
      flex-direction:column;
      gap:3px;
    }
    .opt .label b{ font-weight:700; }
    .opt .label span{ color:var(--muted); font-size:13px; }

    .bar{
      height:10px;
      border-radius:999px;
      background: rgba(255,255,255,.10);
      overflow:hidden;
      border:1px solid var(--border);
      margin:14px 0 4px;
    }
    .bar > div{
      height:100%;
      width:0%;
      background: linear-gradient(90deg, rgba(122,167,255,.9), rgba(122,167,255,.45));
      transition: width .25s ease;
    }

    .footer{
      display:flex;
      gap:10px;
      justify-content:space-between;
      align-items:center;
      margin-top:12px;
      flex-wrap:wrap;
    }
    .btns{
      display:flex; gap:10px; flex-wrap:wrap;
    }
    button{
      border:none;
      border-radius:12px;
      padding:12px 14px;
      font-weight:700;
      cursor:pointer;
      transition: transform .08s ease, opacity .12s ease;
    }
    button:active{ transform: translateY(1px); }
    .primary{ background: var(--accent); color:#0b0f19; }
    .ghost{ background: transparent; color: var(--text); border:1px solid var(--border); }
    .danger{ background: rgba(255,107,107,.18); color: #ffd6d6; border:1px solid rgba(255,107,107,.35); }

    .hint{ font-size:13px; color:var(--muted); }

    .result{
      display:none;
      text-align:center;
      padding:8px 0 0;
    }
    .result h2{ margin:8px 0 4px; font-size:26px; }
    .result p{ margin:0; color:var(--muted); }
    .badge{
      display:inline-block;
      margin-top:10px;
      padding:10px 12px;
      border-radius:14px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.07);
    }
    .top3{
      margin-top:10px;
      display:flex;
      gap:10px;
      justify-content:center;
      flex-wrap:wrap;
    }
    .chip{
      padding:8px 10px;
      border-radius:999px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.06);
      color:var(--muted);
      font-size:13px;
    }

    .hide{ display:none !important; }
  </style>
</head>
<body>
  <div class="bg"></div>

  <div class="wrap">
    <div class="card" role="application" aria-label="ìš´ë™ ìœ í˜• í…ŒìŠ¤íŠ¸">
      <header>
        <div>
          <h1 class="title">ë‚˜ì™€ ë§ëŠ” ìš´ë™ì°¾ê¸°!!</h1>
          <p class="sub">10ë¬¸í•­ìœ¼ë¡œ 16ê°œ ì¢…ëª©(ë ˆìŠ¬ë§/ìœ ë„/íŒ”ì”¨ë¦„/í—¬ìŠ¤/ëŸ¬ë‹/í¬ë¡œìŠ¤í•/ì¶•êµ¬/ë†êµ¬/ë°°êµ¬/í•„ë¼í…ŒìŠ¤/ìˆ˜ì˜/íƒêµ¬/ë³¼ë§/ë°°ë“œë¯¼í„´/ë³µì‹±/íƒœê¶Œë„) ì¤‘ ì¶”ì²œì„ ê³¨ë¼ì¤˜.</p>
        </div>
        <div class="pill" id="counter">Q 1 / 10</div>
      </header>

      <div class="bar" aria-hidden="true"><div id="barFill"></div></div>

      <!-- âœ… ì§ˆë¬¸ì´ í™”ë©´ ì¤‘ì•™(ì¹´ë“œ ê¸°ì¤€)ìœ¼ë¡œ ì˜¤ê²Œ êµ¬ì„± -->
      <div class="stage" id="stage">
        <div class="qbox" id="qbox">
          <p class="qtext" id="qtext">ì§ˆë¬¸</p>
          <div class="answers" id="answers"></div>

          <div class="footer">
            <div class="hint" id="hint">ì„ íƒì§€ë¥¼ ê³ ë¥¸ ë’¤ â€œë‹¤ìŒâ€ì„ ëˆŒëŸ¬ì¤˜.</div>
            <div class="btns">
              <button class="ghost" id="prevBtn" type="button" oneclick="location.href='./main.html'">ì´ì „</button>
              <button class="primary" id="nextBtn" type="button">ë‹¤ìŒ</button>
              <button class="danger hide" id="restartBtn" type="button">ë‹¤ì‹œí•˜ê¸°</button>
            </div>
          </div>

          <div class="result" id="result">
            <div class="badge">ë‹¹ì‹ ì—ê²Œ ê°€ì¥ ì˜ ë§ëŠ” ì¢…ëª©</div>
            <h2 id="resultMain">â€”</h2>
            <p id="resultDesc">â€”</p>
            <div class="top3" id="top3"></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    /**
     * âœ… ìœ í˜•(16ì¢…ëª©) ì •ì˜ + ê°„ë‹¨ ì„¤ëª…
     * ì‚¬ìš©ì ìš”ì²­: "ìœ í˜•ë³„ë¡œ ì¢…ëª©ì„ ë‚˜ëˆ ì¤˜"
     * => ê° ìœ í˜• = ì¢…ëª© 1ê°œë¡œ ë§¤í•‘ (ì´ 16ìœ í˜•)
     */
    const TYPES = [
      { key:"wrestling", name:"ë ˆìŠ¬ë§", desc:"ëª¸ì‹¸ì›€/í´ë¦°ì¹˜/í…Œì´í¬ë‹¤ìš´ ê°ê°ì´ ê°•í•¨. ì¹˜ì—´í•œ ì ‘ì´‰ì „ ì¢‹ì•„í•˜ëŠ” íƒ€ì…." },
      { key:"judo", name:"ìœ ë„", desc:"ê·¸ë¦½ ì‹¸ì›€ê³¼ ë°¸ëŸ°ìŠ¤ ë¶•ê´´ì— ê°•í•¨. ê¸°ìˆ ë¡œ ìƒëŒ€ë¥¼ ì œì••í•˜ëŠ” íƒ€ì…." },
      { key:"armwrestling", name:"íŒ”ì”¨ë¦„", desc:"ì†ëª©/ì „ì™„/ê·¸ë¦½ì— ì§‘ì°©(?)í•˜ëŠ” íƒ€ì…. í•œ ë°©ì˜ í˜ê³¼ ë ˆë²„ë¦¬ì§€ì— ê½‚í˜." },
      { key:"gym", name:"í—¬ìŠ¤", desc:"ê¸°ë¡ê³¼ ë£¨í‹´ì— ê°•í•¨. ê¾¸ì¤€íˆ ìŒ“ì•„ì„œ ëª¸/í˜ì„ ë§Œë“œëŠ” íƒ€ì…." },
      { key:"running", name:"ëŸ¬ë‹", desc:"ì‹¬í/ë¦¬ë“¬/ì§€êµ¬ë ¥ì„ ì¦ê¹€. í˜¼ì ëª°ì…í•´ì„œ ë‹¬ë¦¬ëŠ” ê²Œ ë§ëŠ” íƒ€ì…." },
      { key:"crossfit", name:"í¬ë¡œìŠ¤í•", desc:"ë‹¤ì–‘í•œ ì¢…ëª©+WOD ë½•ë§›. ê²½ìŸ/ê¸°ë¡/íŒ€ ë¶„ìœ„ê¸° ì¢‹ì•„í•˜ëŠ” íƒ€ì…." },
      { key:"soccer", name:"ì¶•êµ¬", desc:"ë„“ì€ ì‹œì•¼/íŒ€í”Œ/ì „ìˆ . í•¨ê»˜ ë›°ëŠ” ì—ë„ˆì§€ê°€ ë§ëŠ” íƒ€ì…." },
      { key:"basketball", name:"ë†êµ¬", desc:"ìˆœê°„ íŒë‹¨/í…œí¬/1:1. ë¹ ë¥¸ ì „ê°œì™€ í´ëŸ¬ì¹˜ ìƒí™© ì¢‹ì•„í•˜ëŠ” íƒ€ì…." },
      { key:"volleyball", name:"ë°°êµ¬", desc:"íƒ€ì´ë°/ì í”„/í˜‘ì—…. ì—­í•  ë¶„ë‹´ê³¼ ë¦¬ë“¬ê°ì´ ë§ëŠ” íƒ€ì…." },
      { key:"pilates", name:"í•„ë¼í…ŒìŠ¤", desc:"ì½”ì–´/ìì„¸/ì •ë ¬. ëª¸ì„ ì •êµí•˜ê²Œ ì“°ëŠ” ê±¸ ì¢‹ì•„í•˜ëŠ” íƒ€ì…." },
      { key:"swimming", name:"ìˆ˜ì˜", desc:"ì „ì‹  ì§€êµ¬ë ¥+í˜¸í¡ ì»¨íŠ¸ë¡¤. ê´€ì ˆ ë¶€ë‹´ ì ê³  ê¾¸ì¤€í•œ íƒ€ì…." },
      { key:"tabletennis", name:"íƒêµ¬", desc:"ë°˜ì‘ì†ë„/ê°ë„/ìŠ¤í•€. ë‘ë‡Œ+ì†ë§› ì¡°í•© ì¢‹ì•„í•˜ëŠ” íƒ€ì…." },
      { key:"bowling", name:"ë³¼ë§", desc:"ë£¨í‹´/ì •í™•ë„/ë©˜íƒˆ. â€˜í•œ íˆ¬êµ¬â€™ì˜ ì§‘ì¤‘ì„ ì¦ê¸°ëŠ” íƒ€ì…." },
      { key:"badminton", name:"ë°°ë“œë¯¼í„´", desc:"ë¯¼ì²©/ìŠ¤í…/ì—°íƒ€. ë¹ ë¥¸ ë°œê³¼ ë ë¦¬ ê°ê°ì´ ë§ëŠ” íƒ€ì…." },
      { key:"boxing", name:"ë³µì‹±", desc:"ê±°ë¦¬/ë¦¬ë“¬/ê°€ë“œ. íƒ€ê²©ì˜ ê¸°ë³¸ê¸°ì™€ ìŠ¤íŒŒë§ ê°ê° ì¢‹ì•„í•˜ëŠ” íƒ€ì…." },
      { key:"taekwondo", name:"íƒœê¶Œë„", desc:"í‚¥/ìŠ¤í”¼ë“œ/ê±°ë¦¬. ë°œì°¨ê¸°ì™€ í­ë°œë ¥ì„ ì¦ê¸°ëŠ” íƒ€ì…." },
    ];

    // ì ìˆ˜íŒ
    const score = Object.fromEntries(TYPES.map(t => [t.key, 0]));

    /**
     * âœ… 10ê°€ì§€ ì§ˆë¬¸ (ìš”ì²­í•œ ì¢…ëª© ê¸°ì¤€ìœ¼ë¡œ ì ìˆ˜ ë¶„ë°°)
     * ê° ë¬¸í•­ì˜ ì„ íƒì§€ë§ˆë‹¤ ì—¬ëŸ¬ ì¢…ëª©ì— ê°€ì¤‘ì¹˜ë¥¼ ë¶€ì—¬í•´ì„œ ê²°ê³¼ë¥¼ ë‚´ë„ë¡ êµ¬ì„±.
     */
    const QUESTIONS = [
      {
        text: "ìš´ë™í•  ë•Œ ì œì¼ ì„¤ë ˆëŠ” ìˆœê°„ì€?",
        options: [
          { title:"ìƒëŒ€ë‘ ë¶€ë”ªíˆê³  ì£¼ë„ê¶Œ ì¡ì„ ë•Œ", sub:"í´ë¦°ì¹˜/ê·¸ë¦½/í˜ì‹¸ì›€", points:{ wrestling:2, judo:2, armwrestling:1 } },
          { title:"ê¸°ë¡ì´ ì˜¤ë¥´ëŠ” ê±¸ í™•ì¸í•  ë•Œ", sub:"ì¤‘ëŸ‰/ë°˜ë³µ/PR", points:{ gym:3, crossfit:1 } },
          { title:"í˜¸í¡ì´ í„°ì ¸ë„ ê³„ì† ë°€ì–´ë¶™ì¼ ë•Œ", sub:"ì§€êµ¬ë ¥/ì‹¬í", points:{ running:2, swimming:2, crossfit:1 } },
          { title:"íŒ€í”Œë¡œ í•œ ë°©ì— ë¶„ìœ„ê¸° ë’¤ì§‘ì„ ë•Œ", sub:"íŒ¨ìŠ¤/ì—°ê³„/ë“ì ", points:{ soccer:2, basketball:2, volleyball:2 } },
        ]
      },
      {
        text: "ë„ˆëŠ” ì–´ë–¤ ìŠ¹ë¶€ê°€ ë” ì·¨í–¥ì´ì•¼?",
        options: [
          { title:"ë§¨ëª¸ìœ¼ë¡œ ì •ë©´ìŠ¹ë¶€", sub:"ë¶™ì–´ì„œ ëë‚´ëŠ” ë§›", points:{ wrestling:2, judo:2, boxing:1 } },
          { title:"ì •í™•ë„/ê¸°ìˆ ë¡œ ê¹”ë”í•˜ê²Œ", sub:"ê°ë„/ìŠ¤í•€/ë£¨í‹´", points:{ tabletennis:2, bowling:2, badminton:1 } },
          { title:"ìˆœê°„ í­ë°œë ¥ìœ¼ë¡œ ì°ì–´ëˆ„ë¥´ê¸°", sub:"ìŠ¤í”¼ë“œ/íŒŒì›Œ", points:{ taekwondo:2, basketball:2, boxing:1 } },
          { title:"ê¾¸ì¤€í•¨ìœ¼ë¡œ ë§Œë“  ì²´ë ¥", sub:"ì§€êµ¬ë ¥/í˜¸í¡", points:{ running:2, swimming:2, pilates:1 } },
        ]
      },
      {
        text: "ë„ˆí•œí…Œ ê°€ì¥ ì¤‘ìš”í•œ ê±´?",
        options: [
          { title:"í˜(íŒŒì›Œ)", sub:"ì„¸ê²Œ ë•Œë¦¬ê³ /ë“¤ê³ /ë°€ê¸°", points:{ gym:2, armwrestling:2, crossfit:1 } },
          { title:"ê¸°ìˆ (ì»¨íŠ¸ë¡¤)", sub:"ë°¸ëŸ°ìŠ¤/ê°ë„/íƒ€ì´ë°", points:{ judo:2, tabletennis:2, volleyball:1 } },
          { title:"ìŠ¤í”¼ë“œ(ë°˜ì‘)", sub:"ìˆœê°„ íŒë‹¨/ìˆœë°œë ¥", points:{ badminton:2, basketball:2, taekwondo:1 } },
          { title:"ì§€êµ¬ë ¥(ì§€ì†)", sub:"ì˜¤ë˜ ê°€ëŠ” í˜", points:{ running:2, swimming:2, soccer:1 } },
        ]
      },
      {
        text: "ìš´ë™ ìŠ¤íƒ€ì¼, ë„ˆëŠ” ì–´ëŠ ìª½?",
        options: [
          { title:"í˜¼ì ëª°ì…í•´ì„œ ë£¨í‹´", sub:"ë‚˜ë§Œì˜ í˜ì´ìŠ¤", points:{ running:2, gym:2, swimming:1, pilates:1 } },
          { title:"ì‚¬ëŒë“¤ì´ë‘ ê°™ì´ í•´ì•¼ ë¶ˆ ë¶™ìŒ", sub:"íŒ€/ì»¤ë®¤ë‹ˆí‹°", points:{ crossfit:2, soccer:2, basketball:1, volleyball:1 } },
          { title:"1:1 ìŠ¹ë¶€ê°€ ì œì¼ ì¬ë°ŒìŒ", sub:"ìƒëŒ€ë‘ ë¶™ì–´ì„œ", points:{ boxing:2, wrestling:1, judo:1, armwrestling:2 } },
          { title:"ì •êµí•œ ê°ê°/ì†ë§›ì´ ì¢‹ìŒ", sub:"ë¼ì¼“/ë³¼/í•€", points:{ tabletennis:2, badminton:2, bowling:1 } },
        ]
      },
      {
        text: "ë„ˆëŠ” ì–´ë–¤ í›ˆë ¨ì´ ë” ì˜ ë§ì•„?",
        options: [
          { title:"ë°˜ë³µí•´ì„œ í¼ì„ ì™„ì„±", sub:"ìì„¸/ì •ë ¬/ê¸°ë³¸ê¸°", points:{ pilates:2, swimming:1, boxing:1, taekwondo:1 } },
          { title:"í˜ì„ ëª¨ì•„ì„œ í•œ ë²ˆì—", sub:"í•œ ë°©/ë ˆë²„ë¦¬ì§€", points:{ armwrestling:3, gym:1 } },
          { title:"ì „ëµì ìœ¼ë¡œ ì›€ì§ì´ëŠ” ì „ê°œ", sub:"ì „ìˆ /í¬ì§€ì…˜", points:{ soccer:2, basketball:2, volleyball:2 } },
          { title:"ë¶™ì–´ì„œ ë¬´ë„ˆëœ¨ë¦¬ëŠ” ê¸°ìˆ ", sub:"í…Œì´í¬ë‹¤ìš´/ë˜ì§€ê¸°", points:{ wrestling:2, judo:2 } },
        ]
      },
      {
        text: "ë¶€ìƒ/í”¼ë¡œ ê´€ë¦¬ ê¸°ì¤€ìœ¼ë¡œëŠ”?",
        options: [
          { title:"ê´€ì ˆ ë¶€ë‹´ ì ê³  ì „ì‹ ìš´ë™ ì„ í˜¸", sub:"íšŒë³µì´ ì¤‘ìš”", points:{ swimming:3, pilates:2 } },
          { title:"íƒ€ê²©/ì ‘ì´‰ ìˆì–´ë„ OK", sub:"ìŠ¤ë¦´ì´ ë” í¼", points:{ boxing:2, taekwondo:2, wrestling:1, judo:1 } },
          { title:"ë‚´ í˜ì´ìŠ¤ëŒ€ë¡œ ì¡°ì ˆ ê°€ëŠ¥í•´ì•¼ í•¨", sub:"ê°•ì•½ ì¡°ì ˆ", points:{ gym:2, running:2, bowling:1 } },
          { title:"ì§§ê³  ê°•í•˜ê²Œ, í…œí¬ ìˆê²Œ", sub:"ê³ ê°•ë„ í•œ íŒ", points:{ crossfit:3, badminton:1, basketball:1 } },
        ]
      },
      {
        text: "ë„ˆì˜ ê²½ìŸ ë³¸ëŠ¥ì€ ì–´ë””ì„œ í„°ì ¸?",
        options: [
          { title:"ë ë¦¬/ê³µë°©ì´ ê¸¸ì–´ì§ˆìˆ˜ë¡", sub:"ì§‘ì¤‘ë ¥ í­ë°œ", points:{ badminton:2, tabletennis:2, volleyball:1 } },
          { title:"ì¹´ìš´í„° í•œ ë°©/í•œ ë²ˆì˜ íƒ€ì´ë°", sub:"í´ëŸ¬ì¹˜", points:{ basketball:2, bowling:2, boxing:1 } },
          { title:"ëê¹Œì§€ ë²„í‹°ëŠ” ì²´ë ¥ ì‹¸ì›€", sub:"í˜ì´ìŠ¤ ìœ ì§€", points:{ running:2, swimming:2, soccer:1 } },
          { title:"í˜/ê·¸ë¦½ìœ¼ë¡œ ì°ì–´ëˆ„ë¥´ëŠ” ìŠ¹ë¶€", sub:"ì™„ë ¥", points:{ armwrestling:2, gym:1, wrestling:1, judo:1 } },
        ]
      },
      {
        text: "ë„ˆëŠ” ì–´ë–¤ ì¥ë¹„/í™˜ê²½ì´ ë” ëŒë ¤?",
        options: [
          { title:"ë§¤íŠ¸/ë„ì¥ ê°™ì€ ê²©íˆ¬ ê³µê°„", sub:"ìŠ¤íŒŒë§/ê¸°ìˆ ", points:{ wrestling:2, judo:2, taekwondo:1, boxing:1 } },
          { title:"í—¬ìŠ¤ì¥/ë°”ë²¨/ê¸°êµ¬", sub:"ì¤‘ëŸ‰ì˜ ë¡œë§", points:{ gym:3, crossfit:1 } },
          { title:"ì½”íŠ¸/êµ¬ì¥", sub:"ë¼ì¸/í¬ì§€ì…˜", points:{ soccer:2, basketball:2, volleyball:2, badminton:1 } },
          { title:"ë¬¼/ë ˆì¸", sub:"í˜¸í¡ê³¼ ë¦¬ë“¬", points:{ swimming:3 } },
        ]
      },
      {
        text: "ë„ˆì—ê²Œ â€˜ì¬ë¯¸â€™ëŠ”?",
        options: [
          { title:"ê¸°ìˆ ì´ í†µí–ˆì„ ë•Œì˜ ì§œë¦¿í•¨", sub:"ê°ë„/íƒ€ì´ë°", points:{ judo:2, tabletennis:2, badminton:1, boxing:1 } },
          { title:"ê¸°ë¡ì´ ëˆ„ì ë˜ëŠ” ì„±ì¥", sub:"ê¾¸ì¤€í•¨", points:{ gym:2, running:1, swimming:1, pilates:1 } },
          { title:"íŒ€ì›Œí¬ë¡œ ë§Œë“¤ì–´ë‚´ëŠ” í•œ ì ", sub:"ì—°ê³„", points:{ soccer:2, basketball:2, volleyball:2 } },
          { title:"í•œ ë°©ìœ¼ë¡œ íë¦„ì„ ë’¤ì§‘ëŠ” í­ë°œ", sub:"ìŠ¤í”¼ë“œ/íŒŒì›Œ", points:{ taekwondo:2, crossfit:1, boxing:1 } },
        ]
      },
      {
        text: "ë§ˆì§€ë§‰! ë„ˆì˜ ì„±í–¥ì— ê°€ì¥ ê°€ê¹Œìš´ ê±´?",
        options: [
          { title:"ëƒ‰ì •í•˜ê³  ê³„ì‚°ì ", sub:"ì •í™•/ë©˜íƒˆ", points:{ bowling:2, tabletennis:2, pilates:1 } },
          { title:"ë¶ˆíƒ€ì˜¤ë¥´ëŠ” ê³µê²©í˜•", sub:"ì••ë°•/ì „ì§„", points:{ boxing:2, taekwondo:2, wrestling:1 } },
          { title:"ëˆì§ˆê¸´ ìš´ì˜í˜•", sub:"ì§€êµ¬ë ¥/í˜ì´ìŠ¤", points:{ running:2, swimming:2, soccer:1 } },
          { title:"íŒŒì›Œ/í”¼ì§€ì»¬ ìì‹  ìˆìŒ", sub:"í˜ìœ¼ë¡œ í•´ê²°", points:{ gym:2, armwrestling:2, crossfit:1 } },
        ]
      },
    ];

    // ìƒíƒœ
    let idx = 0;
    const answersPicked = new Array(QUESTIONS.length).fill(null); // {optIndex, points}
    const qtext = document.getElementById("qtext");
    const answersEl = document.getElementById("answers");
    const counter = document.getElementById("counter");
    const barFill = document.getElementById("barFill");
    const prevBtn = document.getElementById("prevBtn");
    const nextBtn = document.getElementById("nextBtn");
    const restartBtn = document.getElementById("restartBtn");
    const hint = document.getElementById("hint");
    const resultBox = document.getElementById("result");
    const resultMain = document.getElementById("resultMain");
    const resultDesc = document.getElementById("resultDesc");
    const top3 = document.getElementById("top3");

    function setProgress() {
      counter.textContent = `Q ${Math.min(idx+1, QUESTIONS.length)} / ${QUESTIONS.length}`;
      const pct = (idx / QUESTIONS.length) * 100;
      barFill.style.width = `${pct}%`;
    }

    function clearScores() {
      for (const k in score) score[k] = 0;
    }

    function recomputeScoresUpTo(currentIdxExclusive) {
      clearScores();
      for (let i=0; i<currentIdxExclusive; i++){
        const pick = answersPicked[i];
        if (!pick) continue;
        for (const [k,v] of Object.entries(pick.points)){
          score[k] += v;
        }
      }
    }

    function renderQuestion() {
      // ê²°ê³¼ í™”ë©´ ìˆ¨ê¹€
      resultBox.style.display = "none";
      restartBtn.classList.add("hide");
      nextBtn.classList.remove("hide");
      answersEl.classList.remove("hide");
      hint.classList.remove("hide");

      const q = QUESTIONS[idx];
      qtext.textContent = q.text;

      answersEl.innerHTML = "";
      q.options.forEach((opt, i) => {
        const id = `q${idx}_o${i}`;
        const label = document.createElement("label");
        label.className = "opt";
        label.setAttribute("for", id);

        label.innerHTML = `
          <input type="radio" name="q${idx}" id="${id}" value="${i}" />
          <div class="label">
            <b>${opt.title}</b>
            <span>${opt.sub}</span>
          </div>
        `;

        label.addEventListener("click", () => {
          const input = label.querySelector("input");
          input.checked = true;
          answersPicked[idx] = { optIndex:i, points: opt.points };
          hint.textContent = "ì„ íƒ ì™„ë£Œ! â€œë‹¤ìŒâ€ìœ¼ë¡œ ì§„í–‰í•  ìˆ˜ ìˆì–´.";
          hint.style.color = "var(--muted)";
        });

        answersEl.appendChild(label);
      });

      // ì´ì „ì— ì„ íƒí•œ ê°’ ë³µì›
      const prevPick = answersPicked[idx];
      if (prevPick) {
        const radio = document.getElementById(`q${idx}_o${prevPick.optIndex}`);
        if (radio) radio.checked = true;
        hint.textContent = "ì„ íƒ ì™„ë£Œ! â€œë‹¤ìŒâ€ìœ¼ë¡œ ì§„í–‰í•  ìˆ˜ ìˆì–´.";
      } else {
        hint.textContent = "ì„ íƒì§€ë¥¼ ê³ ë¥¸ ë’¤ â€œë‹¤ìŒâ€ì„ ëˆŒëŸ¬ì¤˜.";
      }

      prevBtn.disabled = idx === 0;
      prevBtn.style.opacity = idx === 0 ? .5 : 1;

      // ë§ˆì§€ë§‰ ë¬¸í•­ ë²„íŠ¼ í…ìŠ¤íŠ¸ ë³€ê²½
      nextBtn.textContent = (idx === QUESTIONS.length - 1) ? "ê²°ê³¼ ë³´ê¸°" : "ë‹¤ìŒ";

      setProgress();
    }

    function showResult() {
      // ì „ì²´ ì ìˆ˜ ì¬ê³„ì‚°(ì•ˆì „)
      recomputeScoresUpTo(QUESTIONS.length);

      // ì ìˆ˜ ì •ë ¬
      const ranked = TYPES
        .map(t => ({...t, score: score[t.key]}))
        .sort((a,b) => b.score - a.score);

      const best = ranked[0];
      const second = ranked[1];
      const third = ranked[2];

      // UI ì „í™˜
      answersEl.classList.add("hide");
      hint.classList.add("hide");
      nextBtn.classList.add("hide");
      restartBtn.classList.remove("hide");

      // ì§„í–‰ë°” 100%
      barFill.style.width = "100%";
      counter.textContent = `DONE / ${QUESTIONS.length}`;

      // ê²°ê³¼ ì¶œë ¥
      resultMain.textContent = best.name;
      resultDesc.textContent = best.desc;
      top3.innerHTML = "";

      [best, second, third].forEach((t, i) => {
        const el = document.createElement("div");
        el.className = "chip";
        el.textContent = `${i+1}ìœ„: ${t.name} (ì ìˆ˜ ${t.score})`;
        top3.appendChild(el);
      });

      resultBox.style.display = "block";
    }

    prevBtn.addEventListener("click", () => {
      if (idx === 0) return;

      // í˜„ì¬ ì¸ë±ìŠ¤ ì´ì „ê¹Œì§€ ì ìˆ˜ ì¬ê³„ì‚°
      idx -= 1;
      recomputeScoresUpTo(idx);
      renderQuestion();
    });

    nextBtn.addEventListener("click", () => {
      const pick = answersPicked[idx];
      if (!pick) {
        hint.textContent = "ì•„ì§ ì„ íƒ ì•ˆ í–ˆì–´! í•˜ë‚˜ ê³¨ë¼ì¤˜ ğŸ˜„";
        hint.style.color = "var(--danger)";
        return;
      }

      // í˜„ì¬ ë¬¸í•­ê¹Œì§€ ë°˜ì˜í•´ì„œ ì ìˆ˜ ëˆ„ì 
      recomputeScoresUpTo(idx+1);

      if (idx === QUESTIONS.length - 1) {
        showResult();
        return;
      }

      idx += 1;
      renderQuestion();
    });

    restartBtn.addEventListener("click", () => {
      idx = 0;
      for (let i=0; i<answersPicked.length; i++) answersPicked[i] = null;
      clearScores();
      renderQuestion();
      setProgress();
    });

    // ì´ˆê¸° ë Œë”
    renderQuestion();
  </script>
</body>
</html>
