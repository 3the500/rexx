<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ìš´ë™í•  ë•Œ ë“œëŸ¬ë‚˜ëŠ” ì§„ì§œ ì„±ê²© í…ŒìŠ¤íŠ¸</title>
  <style>
    :root{
      --bg-url: url('cute.png');

      --bg: #0b0f0c;
      --text: rgba(255,255,255,.94);
      --muted: rgba(255,255,255,.75);
      --line: rgba(255,255,255,.22);
      --shadow: 0 18px 60px rgba(0,0,0,.40);
      --radius: 18px;
      --green: #1DB954;
      --green2: #16a34a;
      --yellow: #ffd166;
    }

    *{ box-sizing: border-box; }
    body{
      margin:0;
      min-height:100vh;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple SD Gothic Neo", "Noto Sans KR", "Malgun Gothic", sans-serif;
      color: var(--text);
      background: var(--bg);
      overflow-x:hidden;
    }

    .bg{
      position: fixed;
      inset: 0;
      background-image: var(--bg-url);
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      transform: scale(1.03);
      filter: saturate(1.08) brightness(1.05);
      z-index:-3;
    }

    .overlay{
      position: fixed;
      inset: 0;
      background:
        radial-gradient(1100px 680px at 55% 18%,
          rgba(255,255,255,.20),
          rgba(255,255,255,.06) 35%,
          rgba(0,0,0,.20) 70%,
          rgba(0,0,0,.28)
        ),
        linear-gradient(180deg,
          rgba(0,0,0,.08),
          rgba(0,0,0,.18)
        );
      z-index:-2;
    }

    .grain{
      position: fixed;
      inset: 0;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='120' height='120'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='120' height='120' filter='url(%23n)' opacity='.12'/%3E%3C/svg%3E");
      mix-blend-mode: overlay;
      opacity:.25;
      z-index:-1;
      pointer-events:none;
    }

    .wrap{
      width: min(960px, 92vw);
      margin: 0 auto;
      padding: 24px 0 60px;
    }

    .topbar{
      display:flex;
      justify-content: space-between;
      align-items:center;
      gap:12px;
      padding: 6px 4px 18px;
    }

    .brand{
      display:flex;
      align-items:center;
      gap:10px;
      font-weight:800;
      letter-spacing:-.3px;
    }

    .pill{
      font-size:12px;
      color: rgba(255,255,255,.85);
      border: 1px solid var(--line);
      padding: 6px 10px;
      border-radius: 999px;
      background: rgba(0,0,0,.18);
      backdrop-filter: blur(10px);
    }

    .card{
      border: 1px solid var(--line);
      background: linear-gradient(180deg, rgba(255,255,255,.16), rgba(255,255,255,.10));
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
    }

    .section{
      display:none;
      padding: 22px;
    }
    .section.active{ display:block; }

    .hero{
      padding: 26px 22px 22px;
      text-align:center;
    }
    h1{
      margin: 0 0 10px;
      font-size: clamp(22px, 2.7vw, 34px);
      letter-spacing:-.8px;
      line-height: 1.15;
      text-shadow: 0 6px 18px rgba(0,0,0,.25);
    }
    .sub{
      margin: 0 auto 18px;
      max-width: 620px;
      color: rgba(255,255,255,.85);
      line-height: 1.55;
      font-size: 14.5px;
      text-shadow: 0 4px 14px rgba(0,0,0,.22);
    }
    .ctaRow{
      display:flex;
      justify-content:center;
      gap:10px;
      flex-wrap:wrap;
      margin-top: 16px;
    }

    .btn{
      border: 1px solid var(--line);
      background: rgba(0,0,0,.16);
      color: var(--text);
      padding: 12px 16px;
      border-radius: 14px;
      cursor:pointer;
      font-weight: 800;
      letter-spacing:-.2px;
      transition: transform .06s ease, background .2s ease, border-color .2s ease;
      user-select:none;
      backdrop-filter: blur(10px);
    }
    .btn:hover{ background: rgba(255,255,255,.12); border-color: rgba(255,255,255,.30); }
    .btn:active{ transform: translateY(1px); }
    .btnPrimary{
      background: linear-gradient(180deg, rgba(29,185,84,.98), rgba(22,163,74,.98));
      border-color: rgba(0,0,0,.15);
      color: #06120a;
    }
    .btnPrimary:hover{ filter: brightness(1.03); }

    .quizHead{
      display:flex;
      align-items:flex-start;
      justify-content: space-between;
      gap: 12px;
      margin-bottom: 10px;
    }
    .progress{
      flex:1;
      display:flex;
      flex-direction:column;
      gap:8px;
    }
    .bar{
      height: 10px;
      border-radius: 999px;
      border: 1px solid var(--line);
      background: rgba(0,0,0,.10);
      overflow:hidden;
    }
    .bar > div{
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, rgba(255,209,102,.98), rgba(29,185,84,.98));
      border-radius: 999px;
      transition: width .25s ease;
    }
    .meta{
      display:flex;
      justify-content: space-between;
      color: rgba(255,255,255,.82);
      font-size: 12.5px;
      text-shadow: 0 4px 10px rgba(0,0,0,.18);
    }

    .qBox{
      margin-top: 4px;
      padding: 16px 16px 14px;
      border-radius: 16px;
      background: rgba(0,0,0,.14);
      border: 1px solid rgba(255,255,255,.22);
      backdrop-filter: blur(14px);
      text-align:center;
    }
    .qTitle{
      margin: 0;
      font-size: clamp(18px, 2.2vw, 22px);
      letter-spacing:-.4px;
      line-height: 1.25;
      text-shadow: 0 4px 12px rgba(0,0,0,.20);
    }

    .adfitWrap{
      margin: 10px auto 2px; /* âœ… ì§ˆë¬¸ ë°‘ ì—¬ë°± */
      display:flex;
      justify-content:center;
      align-items:center;
      min-height: 100px;     /* 320x100 ìë¦¬ í™•ë³´ */
      width: 100%;
    }

    .options{
      margin-top: 12px;
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
    }
    @media (max-width: 640px){
      .options{ grid-template-columns: 1fr; }
    }
    .opt{
      text-align:center;
      padding: 14px 14px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.24);
      background: rgba(255,255,255,.14);
      cursor:pointer;
      font-weight: 800;
      letter-spacing:-.2px;
      transition: transform .06s ease, background .2s ease, border-color .2s ease;
      user-select:none;
      min-height: 54px;
      display:grid;
      place-items:center;
      backdrop-filter: blur(14px);
    }
    .opt:hover{ background: rgba(255,255,255,.18); border-color: rgba(255,255,255,.34); }
    .opt:active{ transform: translateY(1px); }

    .quizFoot{
      margin-top: 12px;
      display:flex;
      justify-content: space-between;
      gap:10px;
      flex-wrap:wrap;
      color: rgba(255,255,255,.80);
      font-size: 12.5px;
      align-items:center;
      text-shadow: 0 4px 10px rgba(0,0,0,.18);
    }

    .resultTop{
      display:flex;
      flex-wrap:wrap;
      align-items:flex-start;
      justify-content: space-between;
      gap: 14px;
      margin-bottom: 14px;
    }
    .badge{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 8px 12px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.24);
      background: rgba(0,0,0,.14);
      color: rgba(255,255,255,.82);
      font-weight: 700;
      font-size: 12.5px;
      backdrop-filter: blur(14px);
    }
    .rtype{
      margin: 4px 0 8px;
      font-size: clamp(22px, 2.9vw, 34px);
      letter-spacing:-.9px;
      line-height: 1.1;
      font-weight: 900;
      text-shadow: 0 8px 22px rgba(0,0,0,.22);
    }
    .rdesc{
      margin:0;
      color: rgba(255,255,255,.86);
      line-height: 1.6;
      max-width: 680px;
      text-shadow: 0 6px 16px rgba(0,0,0,.18);
    }

    .grid{
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap: 12px;
      margin-top: 14px;
    }
    @media (max-width: 860px){
      .grid{ grid-template-columns: 1fr; }
    }
    .box{
      padding: 14px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.22);
      background: rgba(0,0,0,.12);
      backdrop-filter: blur(14px);
    }
    .box h3{
      margin: 0 0 10px;
      font-size: 14.5px;
      letter-spacing:-.2px;
      color: rgba(255,255,255,.92);
    }
    .list{
      margin:0;
      padding-left: 16px;
      color: rgba(255,255,255,.82);
      line-height: 1.55;
      font-size: 13.5px;
    }
    .quote{
      font-weight: 900;
      letter-spacing:-.3px;
      margin: 0;
      font-size: 15px;
      color: rgba(255,255,255,.95);
      text-shadow: 0 6px 16px rgba(0,0,0,.18);
    }
    .shareRow{
      margin-top: 14px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
    }
    .tiny{
      font-size: 12px;
      color: rgba(255,255,255,.80);
      margin-top: 8px;
      line-height:1.5;
      text-shadow: 0 4px 10px rgba(0,0,0,.18);
    }
    .toast{
      position: fixed;
      left: 50%;
      bottom: 18px;
      transform: translateX(-50%);
      background: rgba(0,0,0,.55);
      border: 1px solid rgba(255,255,255,.22);
      color: rgba(255,255,255,.92);
      padding: 10px 12px;
      border-radius: 999px;
      backdrop-filter: blur(14px);
      box-shadow: 0 10px 30px rgba(0,0,0,.25);
      font-size: 12.5px;
      display:none;
      z-index: 9999;
    }
.resultImageWrap{
  width: 100%;
  display: flex;
  justify-content: center;
  margin: 14px 0 10px;
}

.resultImageWrap img{
  width: min(320px, 85%);
  max-width: 360px;
  border-radius: 18px;
  box-shadow: 0 12px 28px rgba(0,0,0,.22);
}
    
  </style>
</head>
<body>
  <div class="bg"></div>
  <div class="overlay"></div>
  <div class="grain"></div>

  <div class="wrap">
    <div class="topbar">
      <div class="brand">
        <span class="pill">Rexx â€¢ Type Test</span>
        <span style="opacity:.95;font-weight:900;text-shadow:0 6px 18px rgba(0,0,0,.18);">ìš´ë™ ì„±í–¥ í…ŒìŠ¤íŠ¸</span>
      </div>
    </div>

    <div class="card">
      <!-- START -->
      <section class="section active" id="screenStart">
        <div class="hero">
          <h1>ìš´ë™í•  ë•Œ ë“œëŸ¬ë‚˜ëŠ”<br/>ì§„ì§œ ì„±ê²© í…ŒìŠ¤íŠ¸</h1>
          <p class="sub">
            í—¬ìŠ¤ì¥/í™ˆíŠ¸/ëŸ¬ë‹ ìƒê´€ì—†ì´ <b>ìš´ë™í•  ë•Œ</b> íŠ€ì–´ë‚˜ì˜¤ëŠ” ìŠµê´€ìœ¼ë¡œ ì„±ê²©ì„ ë½‘ì•„ëƒ„.
            ì§ˆë¬¸ì€ 8ê°œë¿ì´ë¼ ê¸ˆë°© ëë‚œë‹¤êµ¬!!
          </p>

          <div class="ctaRow">
            <button class="btn btnPrimary" id="btnStart">ì‹œì‘í•˜ê¸°</button>
            <button class="btn" id="btnRandomBg">ë°°ê²½ í…ŒìŠ¤íŠ¸(ë¸”ëŸ¬ í† ê¸€)</button>
          </div>
        </div>
      </section>

          <ins class="kakao_ad_area" style="display:none;"
data-ad-unit = "DAN-UbdMz8EGIgleqqGs"
data-ad-width = "320"
data-ad-height = "100"></ins>
<script type="text/javascript" src="//t1.daumcdn.net/kas/static/ba.min.js" async></script>  

      

      
      <!-- QUIZ -->
      <section class="section" id="screenQuiz">
        <div class="quizHead">
          <div class="progress">
            <div class="meta">
              <span id="qIndexText">Q1 / 8</span>
              <span id="qAxisHint">ì„ íƒì€ ë°”ë¡œ ë°˜ì˜ë¨</span>
            </div>
            <div class="bar"><div id="barFill"></div></div>
          </div>
          <button class="btn" id="btnReset" title="ì²˜ìŒë¶€í„°">ë¦¬ì…‹</button>
        </div>

        <div class="qBox">
          <p class="qTitle" id="qTitle">ì§ˆë¬¸</p>

         <div class="options">
            <div class="opt" id="optA">ì„ íƒì§€ A</div>
            <div class="opt" id="optB">ì„ íƒì§€ B</div>
          </div>

          <div class="quizFoot">
            <span id="footTip">íŒ: ê³ ë¯¼í• ìˆ˜ë¡ ë„ˆë‘ ë©€ì–´ì§„ë‹¤. ì²« ëŠë‚Œìœ¼ë¡œ ã„±</span>
            <span id="footProg">0/8</span>
          </div>
        </div>
      </section>

      
      
      <!-- RESULT -->
      <section class="section" id="screenResult">
        <div class="resultTop">
          <div>
            <div class="badge" id="resultBadge">ë‹¹ì‹ ì˜ íƒ€ì…</div>
            <div class="rtype" id="resultTitle">ì „ëµê°€í˜•</div>
            <p class="rdesc" id="resultDesc">ì„¤ëª…</p>
          </div>
          <div class="badge" id="resultTraits">íŠ¹ì„±: -</div>
        </div>

        <!-- ì¼ëŸ¬ìŠ¤íŠ¸ íƒœê·¸ -->
<div class="resultImageWrap">
  <img id="resultImage"  alt="ìœ í˜• ì¼ëŸ¬ìŠ¤íŠ¸" style="display:none;">
</div>

        <div class="grid">
          <div class="box">
            <h3>ì¥ì </h3>
            <ul class="list" id="resultPros"></ul>
            <div style="height:10px"></div>
            <h3>ì£¼ì˜í•  ì </h3>
            <ul class="list" id="resultCons"></ul>
          </div>

          <div class="box">
            <h3>ì¶”ì²œ ë£¨í‹´</h3>
            <ul class="list" id="resultRoutine"></ul>
            <div style="height:10px"></div>
            <h3>í•œ ì¤„ ë©˜íŠ¸</h3>
            <p class="quote" id="resultQuote">-</p>

            <div class="shareRow">
              <button class="btn btnPrimary" id="btnCopy">ê²°ê³¼ ê³µìœ ë¬¸êµ¬ ë³µì‚¬</button>
              <button class="btn" id="btnRestart">ë‹¤ì‹œí•˜ê¸°</button>
            </div>
           
          </div>
        </div>
      </section>
    </div>
  </div>

  <div class="toast" id="toast">ë³µì‚¬ë¨!</div>

  

<script>
const TRAITS = ["Plan","Flow","Data","Feel","Drive","Safe","Inner","Social"];
const traitLabel = {
  Plan: "ê³„íš",
  Flow: "ì¦‰í¥",
  Data: "ê¸°ë¡",
  Feel: "ê°ê°",
  Drive:"ê³µê²©",
  Safe: "ì•ˆì •",
  Inner:"ë‚´í–¥",
  Social:"ì‚¬êµ"
};

const questions = [
  { title: "ìš´ë™ ì‰¬ëŠ” ì‹œê°„ì— ë‚˜ëŠ”?",
    a: { text:"ì´ì–´í° ë¼ê³ , í˜¸í¡ ì •ë¦¬í•˜ë©° í˜¼ì ì§‘ì¤‘", adds:{Inner:1} },
    b: { text:"ì£¼ë³€ êµ¬ê²½/ê°€ë²¼ìš´ ëŒ€í™”/ì„œì„±ì„œì„±", adds:{Social:1} }
  },
  { title: "ìš´ë™ ì‹œì‘í•˜ê¸° ì§ì „ ë‚´ ëª¨ë“œ",
    a: { text:"ì˜¤ëŠ˜ ë£¨í‹´/ìˆœì„œê°€ ë¨¸ë¦¬(í˜¹ì€ ë©”ëª¨)ì— ì´ë¯¸ ìˆìŒ", adds:{Plan:1} },
    b: { text:"ì˜¤ëŠ˜ì€ ë•¡ê¸°ëŠ” ê±°ë¶€í„°. ëª¸ì´ ì‹œí‚¤ëŠ” ëŒ€ë¡œ", adds:{Flow:1} }
  },
  { title: "ì„¸íŠ¸ ì¤‘ëŸ‰/íšŸìˆ˜ëŠ” ì–´ë–»ê²Œ ì •í•´?",
    a: { text:"ì§€ë‚œ ê¸°ë¡ ê¸°ì¤€ìœ¼ë¡œ ë”± ë§ì¶°ì„œ ê°„ë‹¤", adds:{Data:1} },
    b: { text:"ì˜¤ëŠ˜ ì»¨ë””ì…˜/íŒí•‘ ëŠë‚Œ ë³´ê³  ì¡°ì ˆí•œë‹¤", adds:{Feel:1} }
  },
  { title: "ë§ˆì§€ë§‰ ì„¸íŠ¸ì—ì„œ ë‚˜ëŠ”?",
    a: { text:"í•œ ë²ˆ ë”. ì•ˆ ë˜ë©´ ë  ë•Œê¹Œì§€ ë°€ì–´ë¶™ì„", adds:{Drive:1} },
    b: { text:"ê¹”ë”í•˜ê²Œ ë‚¨ê¸°ê³  ë§ˆë¬´ë¦¬. í¼/íšŒë³µ ìš°ì„ ", adds:{Safe:1} }
  },
  { title: "í—¬ìŠ¤ì¥ì—ì„œ ëˆ„ê°€ ë§ ê±¸ë©´?",
    a: { text:"ì¹œì ˆíˆ ì‘ëŒ€í•˜ê³ , ìŠ¤ëª°í† í¬ ê¹Œì§€", adds:{Social:1} },
    b: { text:"ì§§ê²Œ ë‹µí•˜ê³  ë‹¤ì‹œ ë‚´ íë¦„ìœ¼ë¡œ ë³µê·€", adds:{Inner:1} }
  },
  { title: "ê¸°êµ¬ê°€ ë‹¤ ì°¨ìˆì„ ë•Œ ë‚´ í–‰ë™",
    a: { text:"ëŒ€ì²´ ë£¨í‹´ ì§œì„œ ë°”ë¡œ ì´ì–´ê°", adds:{Plan:1} },
    b: { text:"ê¸°ë‹¤ë¦¬ê±°ë‚˜, ë‹¤ë¥¸ ê±° í•˜ë‹¤ ë³´ë©´ ë˜ ë‹µì´ ë‚˜ì˜´", adds:{Flow:1} }
  },
  { title: "ìš´ë™ ëë‚˜ê³  ì œì¼ ë¨¼ì € í•˜ëŠ” ê±´?",
    a: { text:"ê¸°ë¡/ì•± ì²´í¬/ë‹¤ìŒ ëª©í‘œ ì •ë¦¬", adds:{Data:1} },
    b: { text:"ìƒ¤ì›Œ/ì‚¬ì§„/ìŠ¤íŠ¸ë ˆì¹­â€¦ ì˜¤ëŠ˜ ëŠë‚Œì„ ì¦ê¹€", adds:{Feel:1} }
  },
  { title: "í†µì¦(ì°Œë¦¿/ë¶ˆí¸) ì‹ í˜¸ê°€ ì˜¤ë©´?",
    a: { text:"í¼ ì¡°ì •í•˜ë©´ì„œ ê³„ì†. ì˜¤ëŠ˜ í•  ê±´ í•œë‹¤", adds:{Drive:1} },
    b: { text:"ê°•ë„ ë‚®ì¶”ê±°ë‚˜ ê³¼ê°íˆ ì‰¬ê³  íšŒë³µì„ ì±™ê¹€", adds:{Safe:1} }
  },
];

const results = {
  "Plan|Data": { name:"ì „ëµê°€í˜•", desc:"ìš´ë™ì€ ê°ì´ ì•„ë‹ˆë¼ ê³„íš. ëª©í‘œâ€“ê³¼ì •â€“í”¼ë“œë°±ì´ ê¹”ë”í•˜ê²Œ ë§ë¬¼ë¦´ ë•Œ ê°€ì¥ ê°•í•´ì§„ë‹¤.",
    pros:["ë£¨í‹´ ì§€ì†ë ¥ ìµœìƒ","ì¦ëŸ‰/ê°ëŸ‰ ì„±ê³¼ê°€ ê¾¸ì¤€íˆ ìŒ“ì„","ì‹¤ìˆ˜ê°€ ì ê³  ì¬í˜„ì„±ì´ ë†’ìŒ"],
    cons:["ë£¨í‹´ì´ ê¹¨ì§€ë©´ ìŠ¤íŠ¸ë ˆìŠ¤ê°€ í¼","ê°€ë” â€˜ì¦ê¹€â€™ì´ ë¹ ì§ˆ ìˆ˜ ìˆìŒ"],
    routine:["3~5ì¼ ë¶„í•  + ê¸°ë¡ í•„ìˆ˜","4~6ì£¼ ë‹¨ìœ„ë¡œ ë³¼ë¥¨/ê°•ë„ ê³„íš","ì£¼ 1íšŒ ì»¨ë””ì…˜ ì²´í¬(ìˆ˜ë©´/í†µì¦)"],
    quote:"â€œê³„íšì´ ê·¼ìœ¡ì„ ë§Œë“ ë‹¤.â€",
    img:"cute1.png"
  },
  "Plan|Safe": { name:"ë£¨í‹´ì¤‘ë…í˜•", desc:"ë‡Œê°€ í¸í•´ì•¼ ëª¸ë„ í¸í•¨. ì•ˆì •ì ì¸ íŒ¨í„´ì„ ë°˜ë³µí• ìˆ˜ë¡ í¼ì´ ë‹¨ë‹¨í•´ì§€ê³  ë¶€ìƒ í™•ë¥ ì´ ì¤„ì–´ë“ ë‹¤.",
    pros:["í¼ ì•ˆì •ì„± ì¢‹ìŒ","ë¶€ìƒ ìœ„í—˜ ê´€ë¦¬ ëŠ¥ë ¥ íƒì›”","ê¾¸ì¤€í•¨ìœ¼ë¡œ ì´ê¹€"],
    cons:["ìê·¹/ë³€í™”ê°€ ë¶€ì¡±í•˜ë©´ ì •ì²´ê¸° ì˜¬ ìˆ˜ ìˆìŒ","ê°€ë” ë„ˆë¬´ ì•ˆì „í•˜ê²Œë§Œ ê°ˆ ë•Œê°€ ìˆìŒ"],
    routine:["RPE 7~8 ì¤‘ì‹¬","ìŠ¤íŠ¸ë ˆì¹­/ì›Œë°ì—… ë£¨í‹´ ê³ ì •","ë§¤ë‹¬ 1~2ê°œ ìš´ë™ë§Œ ì‚´ì§ ì—…ê·¸ë ˆì´ë“œ"],
    quote:"â€œì•ˆì „ì´ ìŒ“ì´ë©´, ì„±ê³¼ëŠ” ë”°ë¼ì˜¨ë‹¤.â€",
    img:"cute2.png"            
  },
  "Plan|Inner": { name:"ì„¤ê³„ìí˜•", desc:"í˜¼ì ì¡°ìš©íˆ, ëŒ€ì‹  ì •í™•í•˜ê²Œ. ë‚´ í˜ì´ìŠ¤ë¥¼ ì§€í‚¬ ë•Œ í¼í¬ë¨¼ìŠ¤ê°€ í­ë°œí•œë‹¤.",
    pros:["ì§‘ì¤‘ë ¥/ëª°ì…ì´ ê°•í•¨","ì„¸íŠ¸ í€„ë¦¬í‹°ê°€ ì¼ì •í•¨","í˜¼ìì„œë„ ë£¨í‹´ ìœ ì§€ ê°€ëŠ¥"],
    cons:["ê°€ë” í”¼ë“œë°±/ìê·¹ì´ ë¶€ì¡±í•´ì§ˆ ìˆ˜ ìˆìŒ","ì™„ë²½ì£¼ì˜ë¡œ ì§€ì¹  ë•Œê°€ ìˆìŒ"],
    routine:["í•µì‹¬ 3~4ì¢…ëª©ë§Œ â€˜ê¹Šê²Œâ€™","ì˜ìƒìœ¼ë¡œ í¼ ì²´í¬(ì£¼ 1íšŒ)","ì„¸ì…˜ ê¸¸ì´ 60~75ë¶„ ì»·"],
    quote:"â€œì¡°ìš©íˆ, ê·¼ë° í™•ì‹¤í•˜ê²Œ.â€",
    img:"cute3.png"             
  },
  "Flow|Drive": { name:"ë¶ˆë„ì €í˜•", desc:"ëª¸ì´ â€˜ê°€ìâ€™ í•˜ë©´ ë°”ë¡œ ê°„ë‹¤. ë¶„ìœ„ê¸° íƒ€ë©´ í•œ ì„¸ì…˜ì—ì„œ íŒì„ ë’¤ì§‘ëŠ” íƒ€ì….",
    pros:["ëª°ì•„ì¹˜ëŠ” ì—ë„ˆì§€","ê³ ê°•ë„ ì„¸ì…˜ì— ê°•í•¨","ë©˜íƒˆë¡œ ëš«ëŠ” ëŠ¥ë ¥"],
    cons:["ê°€ë” ê³¼ëª°ì… â†’ íšŒë³µ/ë¶€ìƒ ë¦¬ìŠ¤í¬","ë£¨í‹´ ì¼ê´€ì„±ì´ í”ë“¤ë¦´ ìˆ˜ ìˆìŒ"],
    routine:["í•˜ë“œë°ì´/ë¼ì´íŠ¸ë°ì´ êµì°¨","PRì€ 2ì£¼~4ì£¼ì— 1ë²ˆ","ë‹¤ìŒë‚  íšŒë³µ(ìˆ˜ë©´/íƒ„ìˆ˜) ê°•ì œ"],
    quote:"â€œì˜¤ëŠ˜ ì•ˆ í•˜ë©´, ì–¸ì œ í•˜ëƒ.â€",
    img:"cute4.png"             
  },
  "Flow|Social": { name:"ë¶„ìœ„ê¸°ë©”ì´ì»¤í˜•", desc:"í˜¼ìë³´ë‹¤ ê°™ì´ í•  ë•Œ ë¶ˆ ë¶™ëŠ” íƒ€ì…. ì‚¬ëŒÂ·ìŒì•…Â·ë¶„ìœ„ê¸°ê°€ í¼í¬ë¨¼ìŠ¤ë¥¼ ëŒì–´ì˜¬ë¦°ë‹¤.",
    pros:["ìš´ë™ ë™ê¸° ìœ ì§€ë ¥ ë†’ìŒ","ì„¸ì…˜ì´ ì¦ê±°ì›Œ ì˜¤ë˜ ê°","íŒŒíŠ¸ë„ˆ ìš´ë™ ì‹œ íš¨ìœ¨â†‘"],
    cons:["í˜¼ì í•˜ë©´ í˜ì´ìŠ¤ê°€ ë–¨ì–´ì§ˆ ìˆ˜ ìˆìŒ","ëŒ€í™”ê°€ ê¸¸ì–´ì ¸ ì„¸ì…˜ì´ ëŠ˜ì–´ì§ˆ ë•Œ ìˆìŒ"],
    routine:["íŒŒíŠ¸ë„ˆ ì„¸ì…˜ ì£¼ 1~2íšŒ","ì„œí‚·/ìŠˆí¼ì…‹ìœ¼ë¡œ í…ì…˜ ìœ ì§€","ì‹œê°„ ì œí•œ(ì˜ˆ: 70ë¶„ íƒ€ì´ë¨¸)"],
    quote:"â€œì¬ë°Œì–´ì•¼ ì˜¤ë˜ í•œë‹¤.â€",
    img:"cute5.png"              
  },
  "Flow|Feel": { name:"ë§ˆì´ì›¨ì´í˜•", desc:"ì»¨ë””ì…˜ê³¼ ê¸°ë¶„ì— ì†”ì§í•˜ë‹¤. ì˜ ë§ëŠ” ë‚ ì€ ì²œì¬, ì•ˆ ë§ëŠ” ë‚ ì€ ê·¸ëƒ¥ â€˜ì‰¬ëŠ” ë‚ â€™ì´ ëœë‹¤.",
    pros:["ëª¸ ì‹ í˜¸ë¥¼ ì˜ ëŠë‚Œ","ìê·¹ ì°¾ëŠ” ì„¼ìŠ¤ ì¢‹ìŒ","ìš´ë™ì„ ìŠ¤íŠ¸ë ˆìŠ¤ ì—†ì´ í•¨"],
    cons:["ì¼ê´€ì„± ë¶€ì¡±í•˜ë©´ ì„±ê³¼ê°€ ë“¤ì­‰ë‚ ì­‰","ëª©í‘œê°€ íë ¤ì§ˆ ìˆ˜ ìˆìŒ"],
    routine:["â€˜ìµœì†Œ ë£¨í‹´â€™ 20ë¶„ë§Œì´ë¼ë„ ê³ ì •","ì»¨ë””ì…˜ ì¢‹ì„ ë•Œë§Œ ê°•ë„ ì—…","ì£¼ê°„ ëª©í‘œ(ì„¸ì…˜ íšŸìˆ˜)ë§Œ ì§€í‚¤ê¸°"],
    quote:"â€œì˜¤ëŠ˜ì˜ ë‚˜ì—ê²Œ ìµœì í™”.â€"
  },
  "Data|Inner": { name:"ê³¼í•™ê¸°ë°˜í˜•", desc:"ë‚´ ëª¸ì„ ë°ì´í„°ë¡œ í•´ì„í•œë‹¤. ì¡°ìš©íˆ, í•˜ì§€ë§Œ ìˆ˜ì¹˜ë¡œ í™•ì‹ ì„ ë§Œë“ ë‹¤.",
    pros:["ì •ì²´ê¸° ì›ì¸ íŒŒì•… ëŠ¥ë ¥","ë¶ˆí•„ìš”í•œ ì„¸íŠ¸/ìš´ë™ ì œê±° ì˜í•¨","ì¥ê¸°ì ìœ¼ë¡œ ê°•í•´ì§"],
    cons:["ê°€ë” ìˆ«ìì— ë§¤ëª°","ëŠë‚Œ/ì¦ê¹€ì´ ë¹ ì§ˆ ìˆ˜ ìˆìŒ"],
    routine:["ì£¼ìš” ë¦¬í”„íŠ¸ë§Œ ìˆ˜ì¹˜ ê´€ë¦¬","ë³´ì¡° ìš´ë™ì€ â€˜ëŠë‚Œâ€™ìœ¼ë¡œ ê· í˜•","3~4ì£¼ë§ˆë‹¤ ë”œë¡œë“œ 1íšŒ"],
    quote:"â€œì¸¡ì •ë˜ì§€ ì•Šìœ¼ë©´, ê°œì„ ë„ ì—†ë‹¤.â€"
  },
  "Data|Drive": { name:"ê¸°ë¡ëŸ¬í˜•", desc:"ê¸°ë¡ì´ ê³§ ìŠ¹ë¶€ë‹¤. ì–´ì œì˜ ë‚˜ë¥¼ ë§¤ë²ˆ ê°±ì‹ í•˜ë ¤ëŠ” â€˜ìƒìŠ¹ ê·¸ë˜í”„â€™ ì¤‘ë…ì.",
    pros:["ì¦ëŸ‰/ì§„í–‰ ì†ë„ ë¹ ë¦„","ëª©í‘œ ë‹¬ì„± ì§‘ì°©ë ¥","ê²½ìŸì‹¬ìœ¼ë¡œ ì„±ì¥"],
    cons:["ë¬´ë¦¬í•´ì„œ ê¸°ë¡ ê°±ì‹  ì‹œë„í•  ìˆ˜ ìˆìŒ","íœ´ì‹/íšŒë³µì„ ê³¼ì†Œí‰ê°€í•  ë•Œ ìˆìŒ"],
    routine:["ì£¼ 1íšŒ â€˜ê¸°ë¡ ì„¸ì…˜â€™","ë‚˜ë¨¸ì§€ëŠ” ë³¼ë¥¨/í¼ ì„¸ì…˜","í†µì¦ ì‹ í˜¸ ì²´í¬ë¦¬ìŠ¤íŠ¸ ë§Œë“¤ê¸°"],
    quote:"â€œê¸°ë¡ì´ ë§í•´ì¤€ë‹¤. ë” í•  ìˆ˜ ìˆë‹¤ê³ .â€"
  },
  "Feel|Social": { name:"ê°ì„±ëŸ¬í˜•", desc:"ìš´ë™ì€ ê°ì • ì •ë¦¬ë‹¤. ìê·¹/ìŒì•…/ë¶„ìœ„ê¸°ì—ì„œ â€˜ì‚´ì•„ìˆëŠ” ëŠë‚Œâ€™ì„ ì–»ëŠ”ë‹¤.",
    pros:["ìš´ë™ì´ íë§ì´ ë¨","ë£¨í‹´ì´ ë¶€ë‹´ìŠ¤ëŸ½ì§€ ì•ŠìŒ","ê¾¸ì¤€í•¨ìœ¼ë¡œ ì´ì–´ì§€ê¸° ì‰¬ì›€"],
    cons:["ëª©í‘œ ì§€í‘œê°€ ì—†ìœ¼ë©´ ë°©í–¥ì„ ìƒê¸° ì‰¬ì›€","ê°•ë„ ìœ ì§€ê°€ ì–´ë ¤ìš¸ ë•Œ ìˆìŒ"],
    routine:["ì¢‹ì•„í•˜ëŠ” ì¢…ëª© 2ê°œëŠ” ê³ ì •","ë‚˜ë¨¸ì§€ëŠ” â€˜ì˜¤ëŠ˜ ê¸°ë¶„â€™ìœ¼ë¡œ ì„ íƒ","ì£¼ 1íšŒë§Œ ê°€ë²¼ìš´ ì§€í‘œ(íšŸìˆ˜/ì‹œê°„) ê¸°ë¡"],
    quote:"â€œìš´ë™ì€ ë‚´ ë§ˆìŒì„ ì„¸íŒ…í•˜ëŠ” ì‹œê°„.â€"
  },
  "Feel|Safe": { name:"íë§í˜•", desc:"ì§€ì¹˜ì§€ ì•Šê²Œ, ì˜¤ë˜ ê°€ëŠ” ê²Œ 1ë“±ì´ë‹¤. íšŒë³µì„ ì±™ê¸¸ìˆ˜ë¡ ëª¸ì€ ë” ì¢‹ì•„ì§„ë‹¤.",
    pros:["íšŒë³µ ê´€ë¦¬ ëŠ¥ë ¥","ë¶€ìƒ íšŒí”¼ íƒì›”","ì¥ê¸°ì ì¸ ë°”ë”” ë°¸ëŸ°ìŠ¤ ì¢‹ìŒ"],
    cons:["ê°€ë” ê°•ë„ ë¶€ì¡±ìœ¼ë¡œ ì •ì²´ê¸°","ë„ì „ì´ ì¤„ì–´ë“¤ ìˆ˜ ìˆìŒ"],
    routine:["ì¤‘ê°•ë„ + í¼ ìµœìš°ì„ ","ìœ ì‚°ì†Œ/ìŠ¤íŠ¸ë ˆì¹­ ì£¼ 2~3íšŒ","ìˆ˜ë©´/ì˜ì–‘ ë£¨í‹´ ê³ ì •"],
    quote:"â€œë‚´ ëª¸ì€ ì˜¤ë˜ ì“¸ ê±°ë‹¤.â€"
  },
  "Drive|Inner": { name:"ê¹¡ë‹¤êµ¬í˜•", desc:"ë§ì€ ì ì€ë°, í•  ê±´ í•œë‹¤. ë‚¨ ëˆˆì¹˜ ì•ˆ ë³´ê³  ë‚´ ì‹¸ì›€ì„ ëê¹Œì§€ ê°€ì ¸ê°€ëŠ” íƒ€ì….",
    pros:["ë©˜íƒˆ ê°•ì² ","í˜¼ìì„œë„ ê³ ê°•ë„ ê°€ëŠ¥","ë²„í‹°ëŠ” í˜ì´ ì„±ê³¼ë¡œ ì§ê²°"],
    cons:["ë¬´ë¦¬ë„ í˜¼ì ë– ì•ˆì„ ìˆ˜ ìˆìŒ","íœ´ì‹ íƒ€ì´ë°ì„ ë†“ì¹  ë•Œ ìˆìŒ"],
    routine:["ë¹…3/ë¨¸ì‹  í•µì‹¬ 4~5ì¢…ëª©","ë§ˆì§€ë§‰ 1~2ì„¸íŠ¸ë§Œ ìŠ¹ë¶€","ì£¼ 1íšŒ íšŒë³µë°ì´ ê°•ì œ"],
    quote:"â€œì•„ë¬´ ì¼ë„ ì—†ì—ˆë‹¤.â€"
  },
  "Safe|Inner": { name:"ì•ˆì „ì œì¼í˜•", desc:"ë¶€ìƒ ì—†ì´ ì˜¤ë˜ ê°€ëŠ” ê²Œ ì§„ì§œ ì‹¤ë ¥. ë‚´ ëª¸ì˜ ê²½ê³ ë“±ì„ ê°€ì¥ ë¹¨ë¦¬ ì½ëŠ”ë‹¤.",
    pros:["ìê¸°ê´€ë¦¬/íšŒë³µ íƒ‘í‹°ì–´","í¼/ìì„¸ ì•ˆì •ì ","ì§€ì† ê°€ëŠ¥ì„± ìµœìƒ"],
    cons:["ë„ì „/ê°•ë„ì—ì„œ ë³´ìˆ˜ì ìœ¼ë¡œ êµ³ì„ ìˆ˜ ìˆìŒ","ê°€ë” ì¬ë¯¸ê°€ ì‹¬ì‹¬í•´ì§ˆ ìˆ˜ ìˆìŒ"],
    routine:["RPE 6~8, í…œí¬/ì •ì§€ ë°˜ë³µ","ì½”ì–´/ê°€ë™ì„± ë£¨í‹´ í•„ìˆ˜","ì›” 1íšŒë§Œ â€˜ë„ì „ ì„¸ì…˜â€™ ë„£ê¸°"],
    quote:"â€œë¶€ìƒ ì—†ëŠ” ì‚¬ëŒì´ ê²°êµ­ ì´ê¸´ë‹¤.â€"
  }
};

const screens = {
  start: document.getElementById("screenStart"),
  quiz: document.getElementById("screenQuiz"),
  result: document.getElementById("screenResult")
};

const el = {
  qIndexText: document.getElementById("qIndexText"),
  qAxisHint: document.getElementById("qAxisHint"),
  qTitle: document.getElementById("qTitle"),
  optA: document.getElementById("optA"),
  optB: document.getElementById("optB"),
  barFill: document.getElementById("barFill"),
  footProg: document.getElementById("footProg"),
  toast: document.getElementById("toast"),

  resultBadge: document.getElementById("resultBadge"),
  resultTitle: document.getElementById("resultTitle"),
  resultDesc: document.getElementById("resultDesc"),
  resultTraits: document.getElementById("resultTraits"),
  resultPros: document.getElementById("resultPros"),
  resultCons: document.getElementById("resultCons"),
  resultRoutine: document.getElementById("resultRoutine"),
  resultQuote: document.getElementById("resultQuote"),
};

let qIndex = 0;
let scores = initScores();

function initScores(){
  const s = {};
  TRAITS.forEach(t => s[t]=0);
  return s;
}

function showScreen(name){
  Object.values(screens).forEach(sec => sec.classList.remove("active"));
  screens[name].classList.add("active");
}

function renderQuestion(){
  const q = questions[qIndex];
  el.qTitle.textContent = q.title;
  el.optA.textContent = q.a.text;
  el.optB.textContent = q.b.text;

  el.qIndexText.textContent = `Q${qIndex+1} / ${questions.length}`;
  el.footProg.textContent = `${qIndex}/${questions.length}`;
  const pct = Math.round((qIndex / questions.length) * 100);
  el.barFill.style.width = `${pct}%`;
}

function applyChoice(choice){
  const q = questions[qIndex];
  const add = (choice==="a" ? q.a.adds : q.b.adds);
  for(const k in add){ scores[k] += add[k]; }
  qIndex++;

  if(qIndex >= questions.length) finish();
  else renderQuestion();
}

function pickResultKey(){
  const arr = TRAITS.map(t => ({t, v: scores[t] + Math.random()*0.0001}))
                    .sort((a,b)=> b.v - a.v);

  for(let i=0;i<arr.length;i++){
    for(let j=i+1;j<arr.length;j++){
      const k1 = arr[i].t, k2 = arr[j].t;
      const key = `${k1}|${k2}`;
      const key2 = `${k2}|${k1}`;
      if(results[key]) return {key, top:[k1,k2], all:arr};
      if(results[key2]) return {key:key2, top:[k2,k1], all:arr};
    }
  }
  return {key:"Plan|Data", top:["Plan","Data"], all:arr};
}

function finish(){
  el.barFill.style.width = "100%";
  const {key, top, all} = pickResultKey();
  const r = results[key];

  // âœ… ê²°ê³¼ ì´ë¯¸ì§€ ì²˜ë¦¬
const imgEl = document.getElementById("resultImage");

if (r.img) {
  imgEl.src = r.img;          // ì˜ˆ: "cute1.png"
  imgEl.alt = r.name + " ìºë¦­í„°";
  imgEl.style.display = "block";
} else {
  imgEl.style.display = "none";
}

  el.resultTitle.textContent = r.name;
  el.resultDesc.textContent = r.desc;

  const topLabels = top.map(t => traitLabel[t]);
  const top4 = all.slice(0,4).map(x => `${traitLabel[x.t]}(${Math.round(scores[x.t])})`);
  el.resultTraits.textContent = `íŠ¹ì„±: ${topLabels.join(" + ")}  Â·  ìƒìœ„: ${top4.join(", ")}`;

  el.resultPros.innerHTML = r.pros.map(s=> `<li>${escapeHtml(s)}</li>`).join("");
  el.resultCons.innerHTML = r.cons.map(s=> `<li>${escapeHtml(s)}</li>`).join("");
  el.resultRoutine.innerHTML = r.routine.map(s=> `<li>${escapeHtml(s)}</li>`).join("");
  el.resultQuote.textContent = r.quote;

  el.resultBadge.textContent = `ë‹¹ì‹ ì˜ íƒ€ì…: ${r.name}`;

  const url = new URL(location.href);
  url.searchParams.set("type", encodeURIComponent(r.name));
  history.replaceState({}, "", url);

  showScreen("result");
}

function escapeHtml(str){
  return String(str)
    .replaceAll("&","&amp;")
    .replaceAll("<","&lt;")
    .replaceAll(">","&gt;")
    .replaceAll('"',"&quot;")
    .replaceAll("'","&#039;");
}

function resetAll(){
  qIndex = 0;
  scores = initScores();
  renderQuestion();
  showScreen("quiz");
}

function toast(msg){
  el.toast.textContent = msg;
  el.toast.style.display = "block";
  clearTimeout(toast._t);
  toast._t = setTimeout(()=> el.toast.style.display="none", 1200);
}

document.getElementById("btnStart").addEventListener("click", ()=> resetAll());
document.getElementById("btnReset").addEventListener("click", ()=> { resetAll(); toast("ë¦¬ì…‹ ì™„ë£Œ"); });
el.optA.addEventListener("click", ()=> applyChoice("a"));
el.optB.addEventListener("click", ()=> applyChoice("b"));

document.getElementById("btnRestart").addEventListener("click", ()=>{
  const url = new URL(location.href);
  url.searchParams.delete("type");
  history.replaceState({}, "", url);
  showScreen("start");
  toast("ë‹¤ì‹œ ì‹œì‘!");
});

document.getElementById("btnCopy").addEventListener("click", async ()=>{
  const t = el.resultTitle.textContent;
  const text =
`ë‚˜ëŠ” "${t}" ë‚˜ì™”ë‹¤ ã…‹ã…‹
ë„ˆë„ í•´ë´ ğŸ‘‰ ${location.href.split("#")[0]}`;

  try{
    await navigator.clipboard.writeText(text);
    toast("ê³µìœ ë¬¸êµ¬ ë³µì‚¬ë¨!");
  }catch(e){
    const ta = document.createElement("textarea");
    ta.value = text;
    document.body.appendChild(ta);
    ta.select();
    document.execCommand("copy");
    document.body.removeChild(ta);
    toast("ë³µì‚¬ë¨!");
  }
});

document.getElementById("btnRandomBg").addEventListener("click", ()=>{
  const bg = document.querySelector(".bg");
  bg.style.filter = (bg.style.filter.includes("blur(2px)") ? "saturate(1.08) brightness(1.05)" : "saturate(1.08) brightness(1.05) blur(2px)");
  toast("ë°°ê²½ í† ê¸€!");
});

(function boot(){
  const url = new URL(location.href);
  const type = url.searchParams.get("type");
  if(type){
    const decoded = decodeURIComponent(type);
    const foundKey = Object.keys(results).find(k => results[k].name === decoded);
    if(foundKey){
      const r = results[foundKey];
      el.resultTitle.textContent = r.name;
      el.resultDesc.textContent = r.desc;
      el.resultTraits.textContent = `íŠ¹ì„±: (ê³µìœ  ë§í¬ í”„ë¦¬ë·°)`;
      el.resultPros.innerHTML = r.pros.map(s=> `<li>${escapeHtml(s)}</li>`).join("");
      el.resultCons.innerHTML = r.cons.map(s=> `<li>${escapeHtml(s)}</li>`).join("");
      el.resultRoutine.innerHTML = r.routine.map(s=> `<li>${escapeHtml(s)}</li>`).join("");
      el.resultQuote.textContent = r.quote;
      el.resultBadge.textContent = `ë‹¹ì‹ ì˜ íƒ€ì…: ${r.name}`;
      showScreen("result");
      return;
    }
  }
  showScreen("start");
})();
</script>
</body>
</html>
